# @logto/nuxt

## 1.0.0

### Major Changes

- 5f4de8c: add support for secure cookie storage in Nuxt SDK and improve security handling

  This is a breaking change that enhances security but requires manual configuration:

  - Introduce new `cookieSecure` configuration option to set whether Logto cookie should be secure
  - Remove automatic HTTPS detection based on Request URL and headers
  - No longer trust `x-forwarded-proto` or similar headers by default for security reasons

  Previously, the SDK would automatically determine whether to use secure cookies based on the Request URL and headers. This automatic detection has been removed to prevent potential security vulnerabilities, especially in environments using reverse proxies or load balancers.

  Now, users must explicitly configure the `cookieSecure` option based on their deployment environment. This change gives users more control and ensures that secure cookies are used only when explicitly configured.

  It's strongly recommended to set `cookieSecure` to `true` when using HTTPS, especially in production environments.

  Usage example:

  ```ts
  // nuxt.config.ts
  export default defineNuxtConfig({
    modules: ["@logto/nuxt"],
    logto: {
      cookieSecure: true, // Enable secure cookie in HTTPS environments
    },
  });
  ```

### Minor Changes

- 71f3b53: support custom redirect base url settings for nuxt SDK

### Patch Changes

- @logto/node@2.5.7

## 0.3.4

### Patch Changes

- @logto/node@2.5.6

## 0.3.3

### Patch Changes

- ea4555f: use warning to replace the error of empty configuration

## 0.3.2

### Patch Changes

- @logto/node@2.5.5

## 0.3.1

### Patch Changes

- @logto/node@2.5.4

## 0.3.0

### Minor Changes

- eaa7836: use `trySafe` for all `context.logtoUser` methods

  All `context.logtoUser` methods now use the `trySafe` function to prevent errors from crashing the server.

- 22f3555: remove commonjs export, fix non-default exports

  - The CJS build generated by `@nuxt/module-builder` only exports the default export, causing issues for users who want to use named exports.
  - Nuxt stills uses the CJS build if certain fields are found, regardless of the `"type": "module"` field in `package.json`. Since Nuxt 3 uses ESM by default, we just remove the CJS export to avoid confusion.

### Patch Changes

- @logto/node@2.5.3

## 0.2.0

### Minor Changes

- 3ba2e81: return undefined when fetchUserInfo failed

  When `fetchUserInfo` is set to `true`, `useLogto()` will call `fetchUserInfo` to get user info. If `fetchUserInfo` failed, it now returns `undefined` instead of throwing an error.

  You can check the value of `userLogto()` to see if the user is authenticated.

## 0.1.13

### Patch Changes

- @logto/node@2.5.2

## 0.1.12

### Patch Changes

- @logto/node@2.5.1

## 0.1.11

### Patch Changes

- Updated dependencies [957a1c9]
  - @logto/node@2.5.0

## 0.1.10

### Patch Changes

- @logto/node@2.4.7

## 0.1.9

### Patch Changes

- @logto/node@2.4.6

## 0.1.8

### Patch Changes

- @logto/node@2.4.5

## 0.1.7

### Patch Changes

- 24d1680: fix: clear access token storage on sign-in
- Updated dependencies [24d1680]
  - @logto/node@2.4.4

## 0.1.6

### Patch Changes

- Updated dependencies [76d113f]
  - @logto/node@2.4.3

## 0.1.5

### Patch Changes

- @logto/node@2.4.2

## 0.1.4

### Patch Changes

- @logto/node@2.4.1

## 0.1.3

### Patch Changes

- 0675d61: fix test cases

## 0.1.2

### Patch Changes

- 329de84: fix import issues

## 0.1.1

### Patch Changes

- 15062aa: fix `defineEventHandler is not defined` error`
- 84621ba: fix typo in sample

## 0.1.0

### Minor Changes

- e0c0247: add nuxt sdk and playground
